{"version":3,"file":"Header.min.js","sources":["Header.js"],"sourcesContent":["/*+***********************************************************************************\n * The contents of this file are subject to the vtiger CRM Public License Version 1.0\n * (\"License\"); You may not use this file except in compliance with the License\n * The Original Code is:  vtiger CRM Open Source\n * The Initial Developer of the Original Code is vtiger.\n * Portions created by vtiger are Copyright (C) vtiger.\n * All Rights Reserved.\n * Contributor(s): YetiForce.com\n *************************************************************************************/\n'use strict';\n\n//Show Alert if user is on a unsupported browser (IE7, IE8, ..etc)\nif (\n\t/MSIE 6.0/.test(navigator.userAgent) ||\n\t/MSIE 7.0/.test(navigator.userAgent) ||\n\t/MSIE 8.0/.test(navigator.userAgent) ||\n\t/MSIE 9.0/.test(navigator.userAgent)\n) {\n\tif (app.getCookie('oldbrowser') != 'true') {\n\t\tapp.setCookie('oldbrowser', true, 365);\n\t\twindow.location.href = 'layouts/basic/modules/Vtiger/browsercompatibility/Browser_compatibility.html';\n\t}\n}\n\n$.Class(\n\t'Vtiger_Header_Js',\n\t{\n\t\tquickCreateModuleCache: {},\n\t\tself: false,\n\t\tgetInstance: function() {\n\t\t\tif (this.self != false) {\n\t\t\t\treturn this.self;\n\t\t\t}\n\t\t\tthis.self = new Vtiger_Header_Js();\n\t\t\treturn this.self;\n\t\t}\n\t},\n\t{\n\t\tmenuContainer: false,\n\t\tcontentContainer: false,\n\t\tquickCreateCallBacks: [],\n\t\tinit: function() {\n\t\t\tthis.setContentsContainer('.js-base-container');\n\t\t},\n\t\tsetContentsContainer: function(element) {\n\t\t\tif (element instanceof $) {\n\t\t\t\tthis.contentContainer = element;\n\t\t\t} else {\n\t\t\t\tthis.contentContainer = $(element);\n\t\t\t}\n\t\t\treturn this;\n\t\t},\n\t\tgetContentsContainer: function() {\n\t\t\treturn this.contentContainer;\n\t\t},\n\t\tregisterQuickCreateSearch() {\n\t\t\t$('.js-quickcreate-search').on('keyup', function() {\n\t\t\t\tlet value = $(this)\n\t\t\t\t\t.val()\n\t\t\t\t\t.toLowerCase();\n\t\t\t\t$('.quickCreateModules .js-quickcreate-search-item a').filter(function() {\n\t\t\t\t\tlet item = $(this).closest('.js-quickcreate-search-item');\n\t\t\t\t\tif (\n\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t.text()\n\t\t\t\t\t\t\t.toLowerCase()\n\t\t\t\t\t\t\t.indexOf(value) > -1\n\t\t\t\t\t) {\n\t\t\t\t\t\titem.removeClass('d-none');\n\t\t\t\t\t} else {\n\t\t\t\t\t\titem.addClass('d-none');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-quickcreate-search-block').hide();\n\t\t\t\t$('.js-quickcreate-search-item')\n\t\t\t\t\t.not('.d-none')\n\t\t\t\t\t.each(function() {\n\t\t\t\t\t\t$(this)\n\t\t\t\t\t\t\t.closest('.js-quickcreate-search-block')\n\t\t\t\t\t\t\t.show();\n\t\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tgetQuickCreateForm: function(url, moduleName, params) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar requestParams;\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tif (!params.noCache || typeof params.noCache === 'undefined') {\n\t\t\t\tif (typeof Vtiger_Header_Js.quickCreateModuleCache[moduleName] !== 'undefined') {\n\t\t\t\t\taDeferred.resolve(Vtiger_Header_Js.quickCreateModuleCache[moduleName]);\n\t\t\t\t\treturn aDeferred.promise();\n\t\t\t\t}\n\t\t\t}\n\t\t\trequestParams = url;\n\t\t\tif (typeof params.data !== 'undefined') {\n\t\t\t\trequestParams = {};\n\t\t\t\trequestParams['data'] = params.data;\n\t\t\t\trequestParams['url'] = url;\n\t\t\t}\n\t\t\tAppConnector.request(requestParams).done(function(data) {\n\t\t\t\tif (!params.noCache || typeof params.noCache === 'undefined') {\n\t\t\t\t\tVtiger_Header_Js.quickCreateModuleCache[moduleName] = data;\n\t\t\t\t}\n\t\t\t\taDeferred.resolve(data);\n\t\t\t});\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\tregisterQuickCreateCallBack: function(callBackFunction) {\n\t\t\tif (typeof callBackFunction != 'function') {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthis.quickCreateCallBacks.push(callBackFunction);\n\t\t\treturn true;\n\t\t},\n\t\t/**\n\t\t * Function to save the quickcreate module\n\t\t * @param accepts form element as parameter\n\t\t * @return returns deferred promise\n\t\t */\n\t\tquickCreateSave: function(form) {\n\t\t\tvar aDeferred = $.Deferred();\n\t\t\tvar quickCreateSaveUrl = form.serializeFormData();\n\t\t\tAppConnector.request(quickCreateSaveUrl).done(\n\t\t\t\tfunction(data) {\n\t\t\t\t\taDeferred.resolve(data);\n\t\t\t\t},\n\t\t\t\tfunction(textStatus, errorThrown) {\n\t\t\t\t\taDeferred.reject(textStatus, errorThrown);\n\t\t\t\t}\n\t\t\t);\n\t\t\treturn aDeferred.promise();\n\t\t},\n\t\t/**\n\t\t * Function to navigate from quickcreate to editView Fullform\n\t\t * @param accepts form element as parameter\n\t\t */\n\t\tquickCreateGoToFullForm: function(form, editViewUrl) {\n\t\t\t//As formData contains information about both view and action removed action and directed to view\n\t\t\tform.find('input[name=\"action\"]').remove();\n\t\t\tform.append('<input type=\"hidden\" name=\"view\" value=\"Edit\" />');\n\t\t\t$.each(form.find('[data-validation-engine]'), function(key, data) {\n\t\t\t\t$(data).removeAttr('data-validation-engine');\n\t\t\t});\n\t\t\tform.addClass('not_validation');\n\t\t\tform.submit();\n\t\t},\n\t\tshowAnnouncement: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar announcementContainer = $('#announcements');\n\t\t\tvar announcements = announcementContainer.find('.announcement');\n\t\t\tif (announcements.length > 0) {\n\t\t\t\tvar announcement = announcements.first();\n\t\t\t\tvar aid = announcement.data('id');\n\n\t\t\t\tapp.showModalWindow(\n\t\t\t\t\tannouncement.find('.modal'),\n\t\t\t\t\tfunction(modal) {\n\t\t\t\t\t\tannouncement.remove();\n\t\t\t\t\t\tmodal.find('button').on('click', function(e) {\n\t\t\t\t\t\t\tAppConnector.request({\n\t\t\t\t\t\t\t\tmodule: 'Announcements',\n\t\t\t\t\t\t\t\taction: 'BasicAjax',\n\t\t\t\t\t\t\t\tmode: 'mark',\n\t\t\t\t\t\t\t\trecord: aid,\n\t\t\t\t\t\t\t\ttype: $(this).data('type')\n\t\t\t\t\t\t\t}).done(function(res) {\n\t\t\t\t\t\t\t\tapp.hideModalWindow();\n\t\t\t\t\t\t\t\tthisInstance.showAnnouncement();\n\t\t\t\t\t\t\t});\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t'',\n\t\t\t\t\t{ backdrop: 'static', keyboard: false }\n\t\t\t\t);\n\t\t\t}\n\t\t},\n\t\tregisterAnnouncements: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tvar announcementContainer = $('#announcements');\n\t\t\tif (announcementContainer.length == 0) {\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tthisInstance.showAnnouncement();\n\t\t},\n\t\tregisterCalendarButtonClickEvent: function() {\n\t\t\tvar element = $('#calendarBtn');\n\t\t\tvar dateFormat = element.data('dateFormat');\n\t\t\tvar currentDate = element.data('date');\n\t\t\tvar vtigerDateFormat = app.convertToDatePickerFormat(dateFormat);\n\t\t\telement.on('click', function(e) {\n\t\t\t\te.stopImmediatePropagation();\n\t\t\t\telement\n\t\t\t\t\t.closest('div.nav')\n\t\t\t\t\t.find('div.open')\n\t\t\t\t\t.removeClass('open');\n\t\t\t\tvar calendar = $('#' + element.data('datepickerId'));\n\t\t\t\tif ($(calendar).is(':visible')) {\n\t\t\t\t\telement.DatePickerHide();\n\t\t\t\t} else {\n\t\t\t\t\telement.DatePickerShow();\n\t\t\t\t}\n\t\t\t});\n\t\t\telement.DatePicker({\n\t\t\t\tformat: vtigerDateFormat,\n\t\t\t\tdate: currentDate,\n\t\t\t\tcalendars: 1,\n\t\t\t\tstarts: 1,\n\t\t\t\tclassName: 'globalCalendar'\n\t\t\t});\n\t\t},\n\t\tregisterHelpInfo: function(container) {\n\t\t\tif (typeof container === 'undefined') {\n\t\t\t\tcontainer = $('form[name=\"QuickCreate\"]');\n\t\t\t}\n\t\t\tapp.showPopoverElementView(container.find('.js-help-info'));\n\t\t},\n\t\thandleQuickCreateData: function(data, params) {\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tvar thisInstance = this;\n\t\t\tapp.showModalWindow(data, function(container) {\n\t\t\t\tvar quickCreateForm = container.find('form[name=\"QuickCreate\"]');\n\t\t\t\tvar moduleName = quickCreateForm.find('[name=\"module\"]').val();\n\t\t\t\tvar editViewInstance = Vtiger_Edit_Js.getInstanceByModuleName(moduleName);\n\t\t\t\teditViewInstance.registerBasicEvents(quickCreateForm);\n\t\t\t\tlet moduleClassName = moduleName + '_QuickCreate_Js';\n\t\t\t\tif (typeof window[moduleClassName] !== 'undefined') {\n\t\t\t\t\tnew window[moduleClassName]().registerEvents(container);\n\t\t\t\t}\n\t\t\t\tquickCreateForm.validationEngine(app.validationEngineOptions);\n\t\t\t\tif (typeof params.callbackPostShown !== 'undefined') {\n\t\t\t\t\tparams.callbackPostShown(quickCreateForm);\n\t\t\t\t}\n\t\t\t\tthisInstance.registerQuickCreatePostLoadEvents(quickCreateForm, params);\n\t\t\t\tthisInstance.registerHelpInfo(quickCreateForm);\n\t\t\t});\n\t\t},\n\t\tisFreeDay: function(dayOfWeek) {\n\t\t\tif (dayOfWeek == 0 || dayOfWeek == 6) {\n\t\t\t\treturn true;\n\t\t\t}\n\t\t\treturn false;\n\t\t},\n\n\t\tregisterQuickCreatePostLoadEvents: function(form, params) {\n\t\t\tvar thisInstance = this;\n\t\t\tvar submitSuccessCallbackFunction = params.callbackFunction;\n\t\t\tvar goToFullFormCallBack = params.goToFullFormcallback;\n\t\t\tif (typeof submitSuccessCallbackFunction === 'undefined') {\n\t\t\t\tsubmitSuccessCallbackFunction = function() {};\n\t\t\t}\n\n\t\t\tform.on('submit', function(e) {\n\t\t\t\tvar form = $(e.currentTarget);\n\t\t\t\tif (form.hasClass('not_validation')) {\n\t\t\t\t\treturn true;\n\t\t\t\t}\n\t\t\t\tvar module = form.find('[name=\"module\"]').val();\n\t\t\t\t//Form should submit only once for multiple clicks also\n\t\t\t\tif (typeof form.data('submit') !== 'undefined') {\n\t\t\t\t\treturn false;\n\t\t\t\t} else {\n\t\t\t\t\tvar invalidFields = form.data('jqv').InvalidFields;\n\t\t\t\t\tif (invalidFields.length > 0) {\n\t\t\t\t\t\t//If validation fails, form should submit again\n\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\te.preventDefault();\n\t\t\t\t\t\treturn;\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//Once the form is submiting add data attribute to that form element\n\t\t\t\t\t\tform.data('submit', 'true');\n\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\n\t\t\t\t\tvar recordPreSaveEvent = $.Event(Vtiger_Edit_Js.recordPreSave);\n\t\t\t\t\tform.trigger(recordPreSaveEvent, {\n\t\t\t\t\t\tvalue: 'edit',\n\t\t\t\t\t\tmodule: module\n\t\t\t\t\t});\n\t\t\t\t\tif (!recordPreSaveEvent.isDefaultPrevented()) {\n\t\t\t\t\t\tvar targetInstance = thisInstance;\n\t\t\t\t\t\tvar moduleInstance = Vtiger_Edit_Js.getInstanceByModuleName(module);\n\t\t\t\t\t\tif (typeof moduleInstance.quickCreateSave === 'function') {\n\t\t\t\t\t\t\ttargetInstance = moduleInstance;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tlet progress = $.progressIndicator({\n\t\t\t\t\t\t\tmessage: app.vtranslate('JS_SAVE_LOADER_INFO'),\n\t\t\t\t\t\t\tposition: 'html',\n\t\t\t\t\t\t\tblockInfo: {\n\t\t\t\t\t\t\t\tenabled: true\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t\ttargetInstance.quickCreateSave(form).done(function(data) {\n\t\t\t\t\t\t\tlet modalContainer = form.closest('.modalContainer');\n\t\t\t\t\t\t\tif (modalContainer.length) {\n\t\t\t\t\t\t\t\tapp.hideModalWindow(false, modalContainer[0].id);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tvar parentModule = app.getModuleName();\n\t\t\t\t\t\t\tvar viewname = app.getViewName();\n\t\t\t\t\t\t\tif (module == parentModule && viewname == 'List') {\n\t\t\t\t\t\t\t\tvar listinstance = new Vtiger_List_Js();\n\t\t\t\t\t\t\t\tlistinstance.getListViewRecords();\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tsubmitSuccessCallbackFunction(data);\n\t\t\t\t\t\t\tvar registeredCallBackList = thisInstance.quickCreateCallBacks;\n\t\t\t\t\t\t\tfor (var index = 0; index < registeredCallBackList.length; index++) {\n\t\t\t\t\t\t\t\tvar callBack = registeredCallBackList[index];\n\t\t\t\t\t\t\t\tcallBack({\n\t\t\t\t\t\t\t\t\tdata: data,\n\t\t\t\t\t\t\t\t\tname: form.find('[name=\"module\"]').val()\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tapp.event.trigger('QuickCreate.AfterSaveFinal', data, form);\n\t\t\t\t\t\t\tprogress.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t\t\tif (data.success) {\n\t\t\t\t\t\t\t\tVtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\t\t\ttext: app.vtranslate('JS_SAVE_NOTIFY_SUCCESS'),\n\t\t\t\t\t\t\t\t\ttype: 'success'\n\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t});\n\t\t\t\t\t} else {\n\t\t\t\t\t\t//If validation fails in recordPreSaveEvent, form should submit again\n\t\t\t\t\t\tform.removeData('submit');\n\t\t\t\t\t\t$.progressIndicator({ mode: 'hide' });\n\t\t\t\t\t}\n\t\t\t\t\te.preventDefault();\n\t\t\t\t}\n\t\t\t});\n\n\t\t\tform.find('.js-full-editlink').on('click', function(e) {\n\t\t\t\tvar form = $(e.currentTarget).closest('form');\n\t\t\t\tvar editViewUrl = $(e.currentTarget).data('url');\n\t\t\t\tif (typeof goToFullFormCallBack !== 'undefined') {\n\t\t\t\t\tgoToFullFormCallBack(form);\n\t\t\t\t}\n\t\t\t\tthisInstance.quickCreateGoToFullForm(form, editViewUrl);\n\t\t\t});\n\n\t\t\tthis.registerTabEventsInQuickCreate(form);\n\t\t},\n\t\tregisterTabEventsInQuickCreate: function(form) {\n\t\t\tvar tabElements = form.find('.nav.nav-pills , .nav.nav-tabs').find('a');\n\t\t\t//This will remove the name attributes and assign it to data-element-name . We are doing this to avoid\n\t\t\t//Multiple element to send as in calendar\n\t\t\tvar quickCreateTabOnHide = function(target) {\n\t\t\t\tvar container = $(target);\n\t\t\t\tcontainer.find('[name]').each(function(index, element) {\n\t\t\t\t\telement = $(element);\n\t\t\t\t\telement.attr('data-element-name', element.attr('name')).removeAttr('name');\n\t\t\t\t});\n\t\t\t};\n\t\t\t//This will add the name attributes and get value from data-element-name . We are doing this to avoid\n\t\t\t//Multiple element to send as in calendar\n\t\t\tvar quickCreateTabOnShow = function(target) {\n\t\t\t\tvar container = $(target);\n\t\t\t\tcontainer.find('[data-element-name]').each(function(index, element) {\n\t\t\t\t\telement = $(element);\n\t\t\t\t\telement.attr('name', element.attr('data-element-name')).removeAttr('data-element-name');\n\t\t\t\t});\n\t\t\t};\n\t\t\ttabElements.on('click', function(e) {\n\t\t\t\tquickCreateTabOnHide(tabElements.not('[aria-expanded=\"false\"]').attr('data-target'));\n\t\t\t\tquickCreateTabOnShow($(this).attr('data-target'));\n\t\t\t\t//while switching tabs we have to clear the invalid fields list\n\t\t\t\tform.data('jqv').InvalidFields = [];\n\t\t\t});\n\t\t\t//To show aleady non active element , this we are doing so that on load we can remove name attributes for other fields\n\t\t\ttabElements.filter('a:not(.active)').each(function(e) {\n\t\t\t\tquickCreateTabOnHide($(this).attr('data-target'));\n\t\t\t});\n\t\t},\n\t\tbasicSearch: function() {\n\t\t\tvar thisInstance = this;\n\t\t\t$('.js-global-search__value').on('keypress', function(e) {\n\t\t\t\tvar currentTarget = $(e.currentTarget);\n\t\t\t\tif (e.which == 13) {\n\t\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\t\tthisInstance.labelSearch(currentTarget);\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-global-search-operator').on('click', function(e) {\n\t\t\t\tvar currentTarget = $(e.target);\n\t\t\t\tvar block = currentTarget.closest('.js-global-search__input');\n\t\t\t\tblock.find('.js-global-search__value').data('operator', currentTarget.data('operator'));\n\t\t\t\tblock.find('.js-global-search-operator .dropdown-item').removeClass('active');\n\t\t\t\tcurrentTarget.closest('.dropdown-item').addClass('active');\n\t\t\t});\n\t\t\tif ($('#gsAutocomplete').val() == 1) {\n\t\t\t\t$.widget('custom.gsAutocomplete', $.ui.autocomplete, {\n\t\t\t\t\t_create: function() {\n\t\t\t\t\t\tthis._super();\n\t\t\t\t\t\tthis.widget().menu('option', 'items', '> :not(.ui-autocomplete-category)');\n\t\t\t\t\t},\n\t\t\t\t\t_renderMenu: function(ul, items) {\n\t\t\t\t\t\tvar that = this,\n\t\t\t\t\t\t\tcurrentCategory = '';\n\t\t\t\t\t\t$.each(items, function(index, item) {\n\t\t\t\t\t\t\tif (item.category != currentCategory) {\n\t\t\t\t\t\t\t\tul.append(\"<li class='ui-autocomplete-category'>\" + item.category + '</li>');\n\t\t\t\t\t\t\t\tcurrentCategory = item.category;\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tthat._renderItemData(ul, item);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\t_renderItemData: function(ul, item) {\n\t\t\t\t\t\treturn this._renderItem(ul, item).data('ui-autocomplete-item', item);\n\t\t\t\t\t},\n\t\t\t\t\t_renderItem: function(ul, item) {\n\t\t\t\t\t\tvar url = 'index.php?module=' + item.module + '&view=Detail&record=' + item.id;\n\t\t\t\t\t\treturn $('<li>')\n\t\t\t\t\t\t\t.data('item.autocomplete', item)\n\t\t\t\t\t\t\t.append($(\"<a href='\" + url + \"'></a>\").html(item.label))\n\t\t\t\t\t\t\t.appendTo(ul);\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t\t$('.js-global-search__value').gsAutocomplete({\n\t\t\t\t\tminLength: app.getMainParams('gsMinLength'),\n\t\t\t\t\tsource: function(request, response) {\n\t\t\t\t\t\tvar basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\t\t\t\tbasicSearch.reduceNumberResults = app.getMainParams('gsAmountResponse');\n\t\t\t\t\t\tbasicSearch.returnHtml = false;\n\t\t\t\t\t\tbasicSearch.setMainContainer(this.element.closest('.js-global-search__input'));\n\t\t\t\t\t\tbasicSearch.search(request.term).done(function(data) {\n\t\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\t\tvar serverDataFormat = data.result;\n\t\t\t\t\t\t\tvar reponseDataList = [];\n\t\t\t\t\t\t\tfor (var id in serverDataFormat) {\n\t\t\t\t\t\t\t\tvar responseData = serverDataFormat[id];\n\t\t\t\t\t\t\t\treponseDataList.push(responseData);\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\tresponse(reponseDataList);\n\t\t\t\t\t\t});\n\t\t\t\t\t},\n\t\t\t\t\tselect: function(event, ui) {\n\t\t\t\t\t\tvar selectedItemData = ui.item;\n\t\t\t\t\t\tif (selectedItemData.permitted) {\n\t\t\t\t\t\t\tvar url = 'index.php?module=' + selectedItemData.module + '&view=Detail&record=' + selectedItemData.id;\n\t\t\t\t\t\t\twindow.location.href = url;\n\t\t\t\t\t\t}\n\t\t\t\t\t\treturn false;\n\t\t\t\t\t},\n\t\t\t\t\tclose: function(event, ui) {\n\t\t\t\t\t\t//$('.js-global-search__value').val('');\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tlabelSearch: function(currentTarget) {\n\t\t\tvar val = currentTarget.val();\n\t\t\tif (val == '') {\n\t\t\t\tapp.showAlert(app.vtranslate('JS_PLEASE_ENTER_SOME_VALUE'));\n\t\t\t\tcurrentTarget.focus();\n\t\t\t\treturn false;\n\t\t\t}\n\t\t\tvar progress = $.progressIndicator({\n\t\t\t\tposition: 'html',\n\t\t\t\tblockInfo: {\n\t\t\t\t\tenabled: true\n\t\t\t\t}\n\t\t\t});\n\t\t\tvar basicSearch = new Vtiger_BasicSearch_Js();\n\t\t\tbasicSearch.setMainContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\tbasicSearch.search(val).done(function(data) {\n\t\t\t\tbasicSearch.showSearchResults(data);\n\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\tmode: 'hide'\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterHotKeys: function() {\n\t\t\t$('.hotKey').each(function(index) {\n\t\t\t\tvar thisObject = this;\n\t\t\t\tvar key = $(thisObject).data('hotkeys');\n\t\t\t\tif (key != '') {\n\t\t\t\t\tMousetrap.bind(key, function() {\n\t\t\t\t\t\tthisObject.click();\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tquickCreateModule: function(moduleName, params) {\n\t\t\tif (window !== window.parent) {\n\t\t\t\twindow.parent.Vtiger_Header_Js.getInstance().quickCreateModule(moduleName, params);\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tvar thisInstance = this;\n\t\t\tif (typeof params === 'undefined') {\n\t\t\t\tparams = {};\n\t\t\t}\n\t\t\tif (typeof params.callbackFunction === 'undefined') {\n\t\t\t\tparams.callbackFunction = function() {};\n\t\t\t}\n\t\t\tvar url = 'index.php?module=' + moduleName + '&view=QuickCreateAjax';\n\t\t\tif (\n\t\t\t\t(app.getViewName() === 'Detail' || (app.getViewName() === 'Edit' && app.getRecordId() !== undefined)) &&\n\t\t\t\tapp.getParentModuleName() != 'Settings'\n\t\t\t) {\n\t\t\t\turl += '&sourceModule=' + app.getModuleName();\n\t\t\t\turl += '&sourceRecord=' + app.getRecordId();\n\t\t\t}\n\t\t\tvar progress = $.progressIndicator();\n\t\t\tthisInstance.getQuickCreateForm(url, moduleName, params).done(function(data) {\n\t\t\t\tthisInstance.handleQuickCreateData(data, params);\n\t\t\t\tapp.registerEventForClockPicker();\n\t\t\t\tprogress.progressIndicator({\n\t\t\t\t\tmode: 'hide'\n\t\t\t\t});\n\t\t\t});\n\t\t},\n\t\tregisterReminderNotice: function() {\n\t\t\tvar self = this;\n\t\t\t$('#page').before(\n\t\t\t\t`<div class=\"remindersNoticeContainer\" tabindex=\"-1\" role=\"dialog\" aria-label=\"${app.vtranslate(\n\t\t\t\t\t'JS_REMINDER'\n\t\t\t\t)}\" aria-hidden=\"true\"></div>`\n\t\t\t);\n\t\t\tvar block = $('.remindersNoticeContainer');\n\t\t\tvar remindersNotice = $('.remindersNotice');\n\t\t\tremindersNotice.on('click', function() {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.requestReminder();\n\t\t\t\t}\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tblock.toggleClass('toggled');\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t},\n\t\tregisterReminderNotification: function() {\n\t\t\tvar self = this;\n\t\t\t$('#page').before('<div class=\"remindersNotificationContainer\" tabindex=\"-1\" role=\"dialog\"></div>');\n\t\t\tvar block = $('.remindersNotificationContainer');\n\t\t\tvar remindersNotice = $('.notificationsNotice');\n\t\t\tremindersNotice.on('click', function() {\n\t\t\t\tif (!remindersNotice.hasClass('autoRefreshing')) {\n\t\t\t\t\tVtiger_Index_Js.getNotificationsForReminder();\n\t\t\t\t}\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tblock.toggleClass('toggled');\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t},\n\t\ttoggleBreadcrumbActions(container) {\n\t\t\tlet actionsContainer = container.find('.js-header-toggle__actions');\n\t\t\tif (!actionsContainer.length) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t\tlet actionBtn = container.find('.js-header-toggle__actions-btn');\n\t\t\tif (!actionsContainer.closest('.js-btn-toolbar').length) {\n\t\t\t\tconst actionBtnMargin = 5;\n\t\t\t\tconst cssActionsTop = { top: actionBtn.offset().top + actionBtn.outerHeight() + actionBtnMargin };\n\t\t\t\tactionsContainer.css(cssActionsTop);\n\t\t\t}\n\t\t\tactionBtn.on('click', () => {\n\t\t\t\tactionsContainer.toggleClass('is-active');\n\t\t\t});\n\t\t},\n\t\tregisterMobileEvents: function() {\n\t\t\tconst self = this,\n\t\t\t\tcontainer = this.getContentsContainer();\n\t\t\t$('.rightHeaderBtnMenu').on('click', function() {\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.mobileLeftPanel ').toggleClass('mobileMenuOn');\n\t\t\t});\n\t\t\t$('.js-quick-action-btn').on('click', function() {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.actionMenu').toggleClass('actionMenuOn');\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'false');\n\t\t\t\t\tcurrentTarget.popover();\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\tcurrentTarget.attr('aria-expanded', 'true');\n\t\t\t\t\tcurrentTarget.popover('disable');\n\t\t\t\t}\n\t\t\t\t$('.quickCreateModules').on('click', function() {\n\t\t\t\t\tself.hideActionMenu();\n\t\t\t\t});\n\t\t\t});\n\t\t\t$('.searchMenuBtn').on('click', function() {\n\t\t\t\tlet currentTarget = $(this);\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\t$('.searchMenu').toggleClass('toogleSearchMenu');\n\t\t\t\tif (currentTarget.hasClass('active')) {\n\t\t\t\t\tcurrentTarget.removeClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'false');\n\t\t\t\t} else {\n\t\t\t\t\tcurrentTarget.addClass('active');\n\t\t\t\t\t$('.searchMenuBtn .c-header__btn').attr('aria-expanded', 'true');\n\t\t\t\t}\n\t\t\t});\n\t\t\t$('.js-header__btn--mail .dropdown').on('show.bs.dropdown', function() {\n\t\t\t\tapp.closeSidebar();\n\t\t\t\tself.hideActionMenu();\n\t\t\t\tself.hideBreadcrumbActionMenu();\n\t\t\t\tself.hideReminderNotice();\n\t\t\t\tself.hideReminderNotification();\n\t\t\t\tself.hideSearchMenu();\n\t\t\t});\n\t\t\tthis.toggleBreadcrumbActions(container);\n\t\t},\n\t\thideMobileMenu: function() {\n\t\t\t$('.mobileLeftPanel ').removeClass('mobileMenuOn');\n\t\t},\n\t\thideSearchMenu: function() {\n\t\t\t$('.searchMenu').removeClass('toogleSearchMenu');\n\t\t},\n\t\thideActionMenu: function() {\n\t\t\t$('.actionMenu').removeClass('actionMenuOn');\n\t\t},\n\t\thideBreadcrumbActionMenu: function() {\n\t\t\t$('.js-header-toggle__actions').removeClass('is-active');\n\t\t},\n\t\thideReminderNotice: function() {\n\t\t\t$('.remindersNoticeContainer').removeClass('toggled');\n\t\t},\n\t\thideReminderNotification: function() {\n\t\t\t$('.remindersNotificationContainer').removeClass('toggled');\n\t\t},\n\t\tregisterFooTable: function() {\n\t\t\tvar container = $('.tableRWD');\n\t\t\tcontainer.find('thead tr th:gt(1)').attr('data-hide', 'phone');\n\t\t\tcontainer.find('thead tr th:gt(3)').attr('data-hide', 'tablet,phone');\n\t\t\tcontainer.find('thead tr th:last').attr('data-hide', '');\n\t\t\tvar whichColumnEnable = container.find('thead').attr('col-visible-alltime');\n\t\t\tcontainer.find('thead tr th:eq(' + whichColumnEnable + ')').attr('data-hide', '');\n\t\t\t$('.tableRWD, .customTableRWD').footable({\n\t\t\t\tbreakpoints: {\n\t\t\t\t\tphone: 768,\n\t\t\t\t\ttablet: 1024\n\t\t\t\t},\n\t\t\t\taddRowToggle: true,\n\t\t\t\ttoggleSelector: ' > tbody > tr:not(.footable-row-detail)'\n\t\t\t});\n\t\t\t$('.footable-toggle').on('click', function(event) {\n\t\t\t\tevent.stopPropagation();\n\t\t\t\t$(this).trigger('footable_toggle_row');\n\t\t\t});\n\t\t\tvar records = $('.customTableRWD').find('[data-toggle-visible=false]');\n\t\t\trecords.find('.footable-toggle').css('display', 'none');\n\t\t},\n\t\tregisterSiteBarButton(container) {\n\t\t\tconst key = 'ShowHideRightPanel' + app.getModuleName();\n\t\t\tif (app.cacheGet(key) == 'show') {\n\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t} else if (app.cacheGet(key) == null) {\n\t\t\t\tif (container.find('.siteBarRight').data('showpanel') == 1) {\n\t\t\t\t\tthis.toggleSiteBar(container.find('.toggleSiteBarRightButton'));\n\t\t\t\t}\n\t\t\t}\n\t\t\tcontainer.find('.toggleSiteBarRightButton').on('click', e => {\n\t\t\t\tlet toogleButton = $(e.currentTarget);\n\t\t\t\tif (toogleButton.closest('.siteBarRight').hasClass('hideSiteBar')) {\n\t\t\t\t\tapp.cacheSet(key, 'show');\n\t\t\t\t} else {\n\t\t\t\t\tapp.cacheSet(key, 'hide');\n\t\t\t\t}\n\t\t\t\tthis.toggleSiteBar(toogleButton);\n\t\t\t});\n\t\t},\n\t\ttoggleSiteBar(toogleButton) {\n\t\t\t$('.rowContent').toggleClass('js-sitebar--active');\n\t\t\ttoogleButton.closest('.siteBarRight').toggleClass('hideSiteBar');\n\t\t\ttoogleButton.find('.fas').toggleClass('fa-chevron-right fa-chevron-left');\n\t\t\ttoogleButton.toggleClass('hideToggleSiteBarRightButton');\n\t\t},\n\t\tregisterToggleButton: function() {\n\t\t\t$('.buttonTextHolder .dropdown-menu a').on('click', function() {\n\t\t\t\t$(this)\n\t\t\t\t\t.parents('.d-inline-block')\n\t\t\t\t\t.find('.dropdown-toggle .textHolder')\n\t\t\t\t\t.html($(this).text());\n\t\t\t});\n\t\t},\n\t\tlistenTextAreaChange: function() {\n\t\t\tvar thisInstance = this;\n\t\t\t$('textarea').on('keyup', function() {\n\t\t\t\tvar elem = $(this);\n\t\t\t\tif (!elem.data('has-scroll')) {\n\t\t\t\t\telem.data('has-scroll', true);\n\t\t\t\t\telem.on('scroll keyup', function() {\n\t\t\t\t\t\tthisInstance.resizeTextArea($(this));\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t\tthisInstance.resizeTextArea($(this));\n\t\t\t});\n\t\t},\n\t\tresizeTextArea: function(elem) {\n\t\t\telem.height(1);\n\t\t\telem.scrollTop(0);\n\t\t\telem.height(elem[0].scrollHeight - elem[0].clientHeight + elem.height());\n\t\t},\n\t\tregisterKnowledgeBaseModal() {\n\t\t\t$('.js-knowledge-base-modal').on('click', () => {\n\t\t\t\tif (window.KnowledgeBaseModalVueComponent.mounted === undefined) {\n\t\t\t\t\twindow.KnowledgeBaseModalVueComponent.mount({\n\t\t\t\t\t\tel: '#KnowledgeBaseModal',\n\t\t\t\t\t\tstate: {\n\t\t\t\t\t\t\tmoduleName: 'KnowledgeBase',\n\t\t\t\t\t\t\tdialog: true\n\t\t\t\t\t\t}\n\t\t\t\t\t});\n\t\t\t\t\tKnowledgeBaseModalVueComponent.mounted = true;\n\t\t\t\t} else {\n\t\t\t\t\tvuexStore.commit('KnowledgeBase/setDialog', true);\n\t\t\t\t}\n\t\t\t});\n\t\t},\n\t\tregisterChat() {\n\t\t\tif (window === window.parent && window.ChatModalVueComponent !== undefined) {\n\t\t\t\twindow.ChatModalVueComponent.mount({\n\t\t\t\t\tel: '#ChatModalVue'\n\t\t\t\t});\n\t\t\t}\n\t\t},\n\t\tregisterEvents: function() {\n\t\t\tvar thisInstance = this;\n\t\t\tconst container = thisInstance.getContentsContainer(),\n\t\t\t\tmenuContainer = container.find('.js-menu--scroll'),\n\t\t\t\tquickCreateModal = container.find('.quickCreateModules');\n\t\t\tapp.showNewScrollbarLeft(menuContainer, { suppressScrollX: true });\n\t\t\tapp.showNewScrollbar(menuContainer.find('.subMenu').last(), { suppressScrollX: true });\n\t\t\tthisInstance.listenTextAreaChange();\n\t\t\tthisInstance.registerFooTable(); //Enable footable\n\t\t\t$('.js-clear-history').on('click', () => {\n\t\t\t\tapp.clearBrowsingHistory();\n\t\t\t});\n\t\t\t$('.globalSearch').on('click', function() {\n\t\t\t\tvar currentTarget = $(this);\n\t\t\t\tthisInstance.hideSearchMenu();\n\t\t\t\tvar advanceSearchInstance = new Vtiger_AdvanceSearch_Js();\n\t\t\t\tadvanceSearchInstance.setParentContainer(currentTarget.closest('.js-global-search__input'));\n\t\t\t\tadvanceSearchInstance.initiateSearch();\n\t\t\t});\n\t\t\t$('.searchIcon').on('click', function(e) {\n\t\t\t\tvar currentTarget = $(this)\n\t\t\t\t\t.closest('.js-global-search__input')\n\t\t\t\t\t.find('.js-global-search__value');\n\t\t\t\tvar pressEvent = $.Event('keypress');\n\t\t\t\tpressEvent.which = 13;\n\t\t\t\tcurrentTarget.trigger(pressEvent);\n\t\t\t});\n\t\t\tthisInstance.registerAnnouncements();\n\t\t\tthisInstance.registerHotKeys();\n\t\t\tthisInstance.registerToggleButton();\n\t\t\tthisInstance.registerSiteBarButton($('#centerPanel'));\n\t\t\t//this.registerCalendarButtonClickEvent();\n\t\t\t//After selecting the global search module, focus the input element to type\n\t\t\t$('.basicSearchModulesList').on('change', function() {\n\t\t\t\tvar value = $(this)\n\t\t\t\t\t.closest('.js-global-search__input')\n\t\t\t\t\t.find('.js-global-search__value');\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tvalue.focus();\n\t\t\t\t}, 100);\n\t\t\t});\n\t\t\tthisInstance.basicSearch();\n\t\t\tquickCreateModal.on('click', '.quickCreateModule', function(e, params) {\n\t\t\t\tvar moduleName = $(e.currentTarget).data('name');\n\t\t\t\tquickCreateModal.modal('hide');\n\t\t\t\tthisInstance.quickCreateModule(moduleName);\n\t\t\t});\n\t\t\tthisInstance.registerReminderNotification();\n\t\t\tthisInstance.registerMobileEvents();\n\t\t\tthisInstance.registerReminderNotice();\n\t\t\tthisInstance.registerQuickCreateSearch();\n\t\t\tthisInstance.registerKnowledgeBaseModal();\n\t\t\tthisInstance.registerChat();\n\t\t}\n\t}\n);\n$(document).ready(function() {\n\twindow.addEventListener('popstate', event => {\n\t\tif (event.state) {\n\t\t\twindow.location.href = event.state;\n\t\t}\n\t});\n\tVtiger_Header_Js.getInstance().registerEvents();\n});\n"],"names":["test","navigator","userAgent","getCookie","app","setCookie","window","location","href","$","Class","quickCreateModuleCache","self","getInstance","menuContainer","contentContainer","quickCreateCallBacks","init","setContentsContainer","element","getContentsContainer","registerQuickCreateSearch","on","val","toLowerCase","filter","closest","text","indexOf","value","item","removeClass","addClass","hide","not","each","show","getQuickCreateForm","url","moduleName","params","aDeferred","Deferred","noCache","resolve","Vtiger_Header_Js","promise","requestParams","data","AppConnector","request","done","registerQuickCreateCallBack","callBackFunction","push","quickCreateSave","form","quickCreateSaveUrl","serializeFormData","textStatus","errorThrown","reject","quickCreateGoToFullForm","find","remove","append","key","removeAttr","submit","showAnnouncement","announcementContainer","announcements","length","first","aid","announcement","showModalWindow","modal","module","action","mode","record","type","hideModalWindow","thisInstance","backdrop","keyboard","registerAnnouncements","registerCalendarButtonClickEvent","dateFormat","currentDate","vtigerDateFormat","convertToDatePickerFormat","e","stopImmediatePropagation","calendar","is","DatePickerHide","DatePickerShow","DatePicker","format","date","calendars","starts","className","registerHelpInfo","container","showPopoverElementView","handleQuickCreateData","quickCreateForm","editViewInstance","Vtiger_Edit_Js","getInstanceByModuleName","registerBasicEvents","moduleClassName","registerEvents","validationEngine","validationEngineOptions","callbackPostShown","registerQuickCreatePostLoadEvents","isFreeDay","dayOfWeek","submitSuccessCallbackFunction","callbackFunction","goToFullFormCallBack","goToFullFormcallback","currentTarget","hasClass","InvalidFields","removeData","progressIndicator","preventDefault","Event","recordPreSave","trigger","recordPreSaveEvent","isDefaultPrevented","moduleInstance","targetInstance","message","vtranslate","position","blockInfo","enabled","modalContainer","id","getModuleName","viewname","getViewName","parentModule","listinstance","getListViewRecords","registeredCallBackList","index","callBack","name","event","progress","success","Vtiger_Helper_Js","showPnotify","editViewUrl","registerTabEventsInQuickCreate","quickCreateTabOnHide","target","attr","quickCreateTabOnShow","tabElements","basicSearch","which","hideSearchMenu","labelSearch","block","widget","ui","autocomplete","_create","_super","menu","_renderMenu","ul","items","currentCategory","category","that","_renderItemData","_renderItem","html","label","appendTo","gsAutocomplete","minLength","getMainParams","source","response","reduceNumberResults","returnHtml","setMainContainer","search","term","JSON","parse","result","reponseDataList","serverDataFormat","responseData","select","selectedItemData","permitted","close","showAlert","focus","showSearchResults","registerHotKeys","thisObject","Mousetrap","bind","click","quickCreateModule","parent","getRecordId","getParentModuleName","registerEventForClockPicker","registerReminderNotice","before","remindersNotice","Vtiger_Index_Js","requestReminder","hideActionMenu","hideBreadcrumbActionMenu","toggleClass","hideReminderNotification","closeSidebar","registerReminderNotification","getNotificationsForReminder","hideReminderNotice","toggleBreadcrumbActions","actionsContainer","top","actionBtn","offset","outerHeight","css","cssActionsTop","registerMobileEvents","popover","hideMobileMenu","registerFooTable","whichColumnEnable","footable","breakpoints","phone","tablet","addRowToggle","toggleSelector","stopPropagation","records","registerSiteBarButton","cacheGet","toggleSiteBar","toogleButton","cacheSet","registerToggleButton","parents","listenTextAreaChange","elem","resizeTextArea","height","scrollTop","scrollHeight","clientHeight","registerKnowledgeBaseModal","KnowledgeBaseModalVueComponent","mounted","mount","el","state","dialog","vuexStore","commit","registerChat","ChatModalVueComponent","quickCreateModal","showNewScrollbarLeft","suppressScrollX","showNewScrollbar","last","clearBrowsingHistory","advanceSearchInstance","setParentContainer","initiateSearch","pressEvent","setTimeout","document","ready","addEventListener"],"mappings":"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"}